<!DOCTYPE html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><link href=http://gmpg.org/xfn/11 rel=profile><meta http-equiv=content-type content="text/html; charset=utf-8"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Rails 4 Strong Parameters &middot; Maksim.IO | MrMaksimize</title><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=/assets/stylesheets/style.min.72db41b6.css><link rel=stylesheet href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400"><script src=/assets/javascript/all.min.74be1697.js></script><link rel=apple-touch-icon-precomposed sizes=144x144 href=/assets/images/touch/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/assets/favicon.ico><link rel=alternate type=application/rss+xml title=RSS href=/atom.xml></head><body class=sidebar-overlay><input type=checkbox class=sidebar-checkbox id=sidebar-checkbox><div class=sidebar id=sidebar><div class=sidebar-item><img class=sidebar-image width=100% height=100% src="http://mrm-random.s3.amazonaws.com/dz/maksim.jpg"><p>Gov, Code, Thoughts. This is a place for me to speak freely and represent no one.</p></div><nav class=sidebar-nav><a class=sidebar-nav-item href="/">Home</a> <a class=sidebar-nav-item href=/about.html>About</a> <a class=sidebar-nav-item href=/guides/index.html>Guides</a> <a class=sidebar-nav-item href=/speaking.html>Speaking</a> <span class="sidebar-nav-item social-links"><a href=https://github.com/mrmaksimize target=_blank title=Github><i class="fa fa-2x fa-github"></i></a> <a href=https://twitter.com/mrmaksimize target=_blank title=Twitter><i class="fa fa-2x fa-twitter"></i></a> <a href=https://linkedin.com/in/maxpecherskiy target=_blank title=LinkedIN><i class="fa fa-2x fa-linkedin"></i></a> <a href=mailto:max@maksimize.com><i class="fa fa-2x fa-envelope-o" title=E-Mail></i></a> <a href=/atom.xml title=RSS target=_blank><i class="fa fa-2x fa-rss"></i></a></span></nav><div class=sidebar-item><p>&copy; 2015. All rights reserved.</p></div></div><div class=wrap><div class=masthead><div class=container><h3 class=masthead-title><a href="/" title=Home>Maksim.IO | MrMaksimize</a></h3></div></div><div class="container content"><div class=post><h1 class=post-title>Rails 4 Strong Parameters</h1><span class=post-date>14 Jul 2013</span><p>So I&rsquo;ve been going through the awesome <a href="http://tutorials.jumpstartlab.com/">JumpStart Labs Tutorials</a> lately to learn some rails and found a small bug in the tutorial.</p><p>It&rsquo;s not really a bug though. The tutorial was made with Rails 3.x in mind and I&rsquo;ve been using Rails 4. So I found a small discrepancy and submitted an <a href=https://github.com/JumpstartLab/curriculum/issues/606>issue</a></p><p>I was strongly encouraged to blog about my journeys into Rails and Ruby so this is one of those posts. Really hoping someone finds this useful.</p><p>There&rsquo;s a section in the tutorials that talks about Rails protection so you can&rsquo;t just directly save parameters coming into the form in the controller. This is a great thing so people can&rsquo;t just submit bogus data or do something worse. In the <a href=http://tutorials.jumpstartlab.com/projects/blogger.html#i1:-form-based-workflow>Form Based Workflow</a> section of the tutorial, they mention adding <code>attr_accessible</code> to be able to save the parameters coming into the form.</p><p>I tried this and got an error saying this was deprecated in Rails 4 and has been moved off to a separate gem.</p><p>After a bit of googling around, I found <a href="http://rubysource.com/rails-4-quick-look-strong-parameters/">a great article from RubySource</a>.</p><p>The long and short of it is this.</p><ul><li>The protected parameters is a separate gem now, but is included in Rails 4</li><li>I added <code>config.active_record.whitelist_attributes = true</code> to config/application.rb</li><li>Added <code>include ActiveModel::ForbiddenAttributesProtection</code> to my Articles model.</li><li>Added the following method to my articles controller:</li></ul><div class=highlight><pre><code class=language-ruby data-lang=ruby>def article_params
        params[:article].permit(:title, :body)
    end</code></pre></div><p>And finally, updated my Create controller accordingly:</p><div class=highlight><pre><code class=language-ruby data-lang=ruby>def create
      @article = Article.new(article_params)
      @article.save
      redirect_to article_path(@article)
    end</code></pre></div><p>Definitely learned something useful. You can also use permit to allow certain users to edit certain fields if you wish as well.</p></div><div class=related><h2>Related Posts</h2><ul class=related-posts><li><h3><a href="/ghost_continous_deployment/">Continuous Deployment of Ghost from Github <small>08 Feb 2014</small></a></h3></li><li><h3><a href="/webhooks/">Webhooks: A Different Pattern <small>03 Sep 2014</small></a></h3></li><li><h3><a href="/the-zen-of-code/">The Zen Of Code <small>23 Oct 2012</small></a></h3></li></ul></div><div id=disqus_thread></div><script type=text/javascript>/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'mrmaksimize'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div><label for=sidebar-checkbox class=sidebar-toggle></label></body></html>